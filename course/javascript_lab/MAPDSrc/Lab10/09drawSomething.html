<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>09drawSomething.html</title>
        <style>
            #myCanvas{
    	               border:1px green solid;
            }
        </style>
 
 <script>
    window.onload = function () {
        var canvas = document.getElementById("myCanvas");
        var context = canvas.getContext("2d");
        var btnSave = document.getElementById("buttonSave").onclick = btnSavef;
        canvas.onmousedown = mouseDownf;
        canvas.onmousemove = mouseMovef;
        canvas.onmouseup = mouseUpf;
  
        function btnSavef() {
            var myImg = document.getElementById("img1");
            myImg.src = canvas.toDataURL("image/png");  //轉換成 base64 型態
        }

        var flag;
        function mouseDownf() {        
            flag = true;            
            context.beginPath();
           context.moveTo(event.offsetX, event.offsetY);                  
        }
        function mouseMovef(nsEvent) {        	
            if (flag) {
                context.lineTo(event.offsetX, event.offsetY);
                var color = document.getElementById("color1").value;
                var w = document.getElementById("number1").value;

                context.strokeStyle = color;
                context.lineWidth = w;
                context.stroke();
            }
        }
      function mouseUpf() {
            flag = false;
            context.closePath();
        }
} ; //onload
</script>         
        
 
    



    </head>

    <body>
    <input type="color" id="color1" style="vertical-align:bottom">
    <input type="number" min="2" max="20" step="2" id="number1" value="2">
    <select id="ColorSelect">
      <option value="black">black</option>
      <option value="yellow">yellow</option>
      <option value="blue">blue</option>
      <option value="pink">pink</option>
      <option value="purple">purple</option>
      <option value="green">green</option>
    </select>
    <select id="WidthSelect">
      <option value="2">2</option>
      <option value="4">4</option>
      <option value="6">6</option>
      <option value="8">8</option>
      <option value="10">10</option>
      <option value="12">12</option>
    </select>
    
    <br/>
    <canvas id="myCanvas" width="400px" height="300px"></canvas>
    <br/>
    <input type="button" value="清除" onclick="location.reload()"/>
    <input type="button" value="儲存" id="buttonSave"/>
    <br/>
    <img id="img1"/>
    
    </body>

</html>
